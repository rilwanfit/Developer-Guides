## Automated Tests

### Unit tests with PHPUnit
https://symfony.com/doc/4.0/testing.html#unit-tests

### How to run test

#### Run all tests of the application
`./bin/phpunit`

#### Run all tests in the Util/ directory
`./bin/phpunit tests/Util`

#### Run tests for the Calculator class
`./bin/phpunit tests/Util/CalculatorTest.php`

### which method names are used to share test setup code?
`setUp()` and `tearDown()`

### How to disable constructor when mocking an object?
`$this->getMockBuilder('My\Class')->disableOriginalConstructor()->getMock()`
#### using Mockery

### Where `phpunit.xml.dist` located?
in the root of your Symfony application.


### Which Symfony class offers method to test commands?
https://symfony.com/doc/4.0/console.html#testing-commands

### Using PHPUnit, which method allows to specify a mock response on second call?
`$mock->expects($this->at(1)`

### Using PHPUnit, which method allows you to expect an exception to be thrown?
`$this->expectedException('MyException')`

### base component required to write functional test
`composer require --dev symfony/browser-kit`
`composer require --dev symfony/css-selector`

### functional tests location directory
`tests/Controller`

### functional tests namespace
`App\Tests\Controller`

### Example functional tests
```php
// tests/Controller/PostControllerTest.php
namespace App\Tests\Controller;

use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;

class PostControllerTest extends WebTestCase
{
    public function testShowPost()
    {
        $client = static::createClient();

        $client->request('GET', '/post/hello-world');

        $this->assertEquals(200, $client->getResponse()->getStatusCode());
    }
}
```

### Base class for functional tests
`WebTestCase`
```php
abstract class WebTestCase extends KernelTestCase
{
    /**
     * Creates a Client.
     *
     * @param array $options An array of options to pass to the createKernel method
     * @param array $server  An array of server parameters
     *
     * @return Client A Client instance
     */
    protected static function createClient(array $options = [], array $server = [])
    {
```

### $options supports
environment and debug


### Client object
### Crawler object

### how to apply css selector in crawler
```$crawler->filter('html:contains("Hello World")')```


### Profile object
### Framework objects access
### Client configuration
### Request and response objects introspection
### PHPUnit bridge
### Handling legacy deprecated code